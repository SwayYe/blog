---
title: 建站历程：主题美化篇（设置预览摘要）
date: 2019-01-15 16:40:28
tags:
- Hexo
- Next
categories:
- 建站历程
---
在默认情况下，在Hexo博客主页中的文章，都是全文显示的。如果想要只显示一部分内容，待到读者点击“阅读全文”之后再展示全文内容，可以按照下面的方法来设置：

<!-- more -->

# 修改主题配置文件

以Next主题为例，打开`\blog\themes\next\_config.yml`，即主题配置文件，随后找到`auto_excerpt`选项，将`enable`参数的值设置为`true`，同时你还可以用`length`参数控制截取片段的长度

```xml
auto_excerpt:
  enable: true
  length: 300
```

设置完成后，你就可以看到这样子的效果了：

<img src="https://github.com/SwayYe/Img/raw/master/blog/%E8%AE%BE%E7%BD%AE%E9%A2%84%E8%A7%883.png" width = "900" height = "600" alt="git" align=center />

但是我们会发现，预览的原文中，涉及到代码的部分无法以代码块的形式显示，看起来不美观。

# 手动截断预览内容

如果希望控制预览时候显示的内容的话，可以通过添加`<!-- more -->`进行手动截断，在那之前的文本及图片都会作为文章预览被显示出来，如：

```markdown
在默认情况下，在Hexo博客主页中的文章，都是全文显示的。如果想要只显示一部分内容，待到读者点击“阅读全文”之后再展示全文内容，可以按照下面的方法来设置：

<img src="http://s1.sinaimg.cn/mw690/003yiy4jgy6RjmFhIHeb0&690" width = "600" height = "400" alt="git" align=center />

<!-- more -->
```

在博客页面中显示出来的效果就是这样子的：

<img src="https://github.com/SwayYe/Img/raw/master/blog/%E8%AE%BE%E7%BD%AE%E9%A2%84%E8%A7%884.png" width = "900" height = "600" alt="git" align=center />

# 修改文章模板

你也可以将这个截断的代码添加到博客文章的模板当中，这样子你每次生成一篇新的博文的时候，就不需要再手动添加这部分代码了。修改`\blog\scaffolds\post.md`

```markdown
---
title: {{ title }}
date: {{ date }}
tags:
categories:
---

<img src="https://xxx" width = "900" height = "600" alt="git" align=center />

<!-- more -->
```



